@model ProductCreateOrUpdateModel


<div class="input-group">
    <button type="button" id="addNewImage" class="btn btn-success input-stack-margin">
        <i class="fa fa-plus-circle"></i>&nbsp; Add new image field
    </button>
</div>

<br />
<table class="table table-bordered">
    <thead>
        <tr>
            <td></td>
            <td></td>
            <td>Sort order</td>
            <td>Remove</td>
        </tr>
    </thead>
    <tbody id="inputWrapper">
        @if (Model.Images != null)
            {
                foreach (var image in Model.Images)
                {
                    var guid = Guid.NewGuid();
                <tr>
                    <td style="width: 15%;">
                        <img src="@image.FileName" id="img-@guid" class="product-img-md" />
                    </td>
                    <td style="width: 15%;">
                        <input type="hidden" id="input-@guid" name="ImageIds" value="@image.Id" />
                        <button type="button"
                                class="btn btn-primary input-stack-margin"
                                data-toggle="modal"
                                data-target="#imageManagerModal"
                                data-id="input-@guid">
                            <i class="fa fa-picture-o"></i>&nbsp; Select an image
                        </button>
                    </td>
                    <td style="width: 15%;">
                        <input type="text"
                               id="imgSort-@guid"
                               name="imgSort-@guid"
                               class="form-control img-sort-order"
                               data-val="true"
                               data-val-required="Sort order is required."
                               data-val-range="0 - 100 are allowed for this product."
                               data-val-range-min="0"
                               data-val-range-max="100"
                               value="@image.SortOrder" />
                        <span class="field-validation-valid text-danger" data-valmsg-for="imgSort-@guid" data-valmsg-replace="true"></span>
                    </td>
                    <td>
                        <button type="button" class="btn btn-danger remove"><i class="fa fa-close"></i></button>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>
